{% extends "base_generic.html" %}
{% load static %}

{% block content %}
<div class="bg-gradient v-center h-center px-3" style="min-height: 100vh;">
  <div class="container py-4">
    <div class="row bg-white py-5 rounded-lg shadow" style="min-height: 80vh; position: relative;">
      <div class="col-12 col-lg-6 v-center h-center">
        <div style="position: absolute; top: 12px; left: 15px;">
          <a href="{% url 'index' %}" class="no-decoration">
            <i class="fas fa-home text-primary" aria-hidden="true"></i> <span class="small text-primary">Go
              Back
              Home</span></a>
        </div>
        <img src="{% static 'images/login-image.svg' %}" class="w-75" alt="Login">
      </div>
      <div class="col-12 col-lg-6 v-center h-center">
        <div style="width: 85%">

          <h2 class="text-info font-weight-bold mb-4 mb-lg-5 mt-5 mt-lg-0 text-center">User Login</h2>

          <form method="post" class="mb-4" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="input-group mb-3 mr-sm-2 border py-2 px-3 rounded-pill input-container">
              <div class="input-group-prepend">
                <div class="input-group-text bg-transparent border-0 rounded-pill pr-0"><i
                    class="fas fa-envelope text-primary" aria-hidden="true"></i></div>
              </div>
              <input type="email" class="form-control border-0 rounded-pill bg-transparent" placeholder="Email"
                name="username" autofocus="" autocapitalize="none" autocomplete="email" maxlength="254" required=""
                id="id_username">
            </div>
            <div class="input-group mb-2 mr-sm-2 border py-2 px-3 rounded-pill input-container">
              <div class="input-group-prepend">
                <div class="input-group-text bg-transparent border-0 rounded-pill pr-0"><i
                    class="fas fa-key text-primary"></i></div>
              </div>
              <input type="password" class="form-control border-0 rounded-pill bg-transparent" placeholder="Password"
                name="password" autocomplete="current-password" required="" id="id_password">
            </div>
            <input type="submit" class="btn btn-lg btn-success rounded-pill w-100 mt-4" value="Login" />
            <input type="hidden" name="next" value="{{ next }}" />
            <p class="text-secondary small mt-3 text-center">Forgot your password? Reset <a class="text-primary"
                href="{% url 'password_reset' %}">here.</a></p>
          </form>

          {% if form.errors %}
          <div class="alert alert-danger small px-3 rounded-pill text-small" role="alert">
            Please verify your account on <a class="text-danger" href="{% url 'main_osa_app' %}">OSA IIITD Main App</a>!
          </div>
          {% endif %}

          {% if next %}
          {% if user.is_authenticated %}
          <div class="alert alert-warning small px-3" role="alert">
            Your account doesn't have access to this page.
          </div>
          {% else %}
          <div class="alert alert-warning small px-3 rounded-pill text-small" role="alert">
            Please login to continue.
          </div>
          {% endif %}
          {% endif %}

          <div class="text-center mt-4 mt-lg-5">
            <p class="text-info small font-weight-light">Don't have an account? <a href="{% url 'customer_signup' %}"
                class="text-primary font-weight-light">
                Register here.</a></p>

          </div>

        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}